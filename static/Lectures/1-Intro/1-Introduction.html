<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Multiple Regression &amp;    Fundamentals of Causal Inference</title>
    <meta charset="utf-8" />
    <meta name="author" content="Merlin Schaeffer  Department of Sociology" />
    <meta name="date" content="2025-09-03" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/tile-view/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view/tile-view.js"></script>
    <link href="libs/tachyons/tachyons.min.css" rel="stylesheet" />
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <link rel="stylesheet" href="../template/Merlin169.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Multiple Regression &amp; <br><br> Fundamentals of Causal Inference
]
.subtitle[
## <br>1. Introduction
]
.author[
### Merlin Schaeffer<br> Department of Sociology
]
.date[
### 2025-09-03
]

---


# Course structure

.left-column[
&lt;br&gt;

| TA       | Fridays  | Room       |
|:---------|:---------|:-----------|
| Sofie     | 8  am    | CSS 4-0-02 |
| Halfdan | 8  am    |  CSS 2-2-55 |
| Sofie    | 10 am    |  CSS 1-0-10 |
| Halfdan    | 10 am    | CSS 2-2-55 |
]

.right-column[
&lt;img src="./img/Structure.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---
class: middle center
background-image: url("https://stanfordbloodcenter.org/wp-content/uploads/2021/01/iStock-1208283967.jpg")
background-position: center
background-size: cover

.font160[
**My research agenda**
]
.font200[
**How Does International Immigration&lt;br&gt;&lt;br&gt;Transform Societies?**
]


---
layout: true
# Some of my current work

---

&lt;img src="./img/Krzysz.png" width="42%" style="display: block; margin: auto;" /&gt;
.center[.backgrnote[*Source*: Schaeffer, Romarri, Rosenberg et al. (2025)]]

---

&lt;img src="./img/IT-Healthcare.png" width="95%" style="display: block; margin: auto;" /&gt;
.center[.backgrnote[*Source*: Schaeffer, Romarri, Rosenberg et al. (2025)]]

---


&lt;img src="./img/Fig4.png" width="67%" style="display: block; margin: auto;" /&gt;
.center[.backgrnote[*Source*: Wiedner, Schaeffer, Carol et al. (2025)]]

---

&lt;img src="img/survey3.png" width="45%" style="display: block; margin: auto;" /&gt;
.center[.backgrnote[*Source*: Schaeffer and Andersen (2025)]]
---

&lt;img src="img/survey4.png" width="80%" style="display: block; margin: auto;" /&gt;
.center[.backgrnote[*Source*: Schaeffer and Andersen (2025)]]

---

&lt;img src="img/Missperception_4.png" width="55%" style="display: block; margin: auto;" /&gt;
.center[.backgrnote[*Source*: Schaeffer and Andersen (2025)]]

---
layout: false
class: inverse middle center
# Explanatory Sociology

---
# 4 Types of research questions

.push-left[
**(1) Ontological**: What is the nature of .alert[X]?
  + What is power?
  + What is gender; how is it different from sex?
  + What is a state? .backgrnote[
&gt; A human community that (successfully) claims the monopoly of the legitimate use of physical force within a given territory

&gt; -- Max Weber, "Politics as a Vocation" 1918]



**(2) Critical**: Is .alert[X] (un-)just?
  + Is the colorblind ideology a new form of racism?
]

--

.push-right[
**(3) Descriptive**: What types of .alert[X] exist&lt;br&gt; and how frequent are they?
  + What are the survival strategies of the poor?
  + How did people in Denmark structure their days during the COVID-19 lockdowns?



**(4) Explanatory**: What is the effect of .alert[X]?
  - What are the consequences of anomie? &lt;br&gt; .backgrnote[Why does the suicide rate vary across societies?]
  - How does capitalism affect us?
  - How does urbanization affect us?
  - .backgrnote[Why do people obey power?]
  - .backgrnote[How does a state gain legitimacy over the use of physical force?]
]

--

.content-box-green[
.center[
Think of the last exam you wrote. What type of research question did it enage with?
]]

---
# 4 Types of research questions

.push-left[
**(1) Ontological**: What is the nature of .alert[X]?
  + What is power?
  + What is gender; how is it different from race?
  + What is a state? .backgrnote[
&gt; A human community that (successfully) claims the monopoly of the legitimate use of physical force within a given territory

&gt; -- Max Weber, "Politics as a Vocation" 1918]



**(2) Critical**: Is .alert[X] (un-)just?
  + Is home office exploitation?
  + Is the color-blind ideology a new form of racism?
]

.push-right[
**(3) Descriptive**: What types of .alert[X] exist&lt;br&gt; and how frequent are they?
  + What are the survival strategies of the poor?
  + How did Danes structure their days during the COVID-19 lockdowns?


.content-box-red[
**(4) Explanatory**: What is the effect of `\(X\)`?
  - What are the consequences of anomie? &lt;br&gt; .backgrnote[Why does the suicide rate vary across societies?]
  - How does capitalism affect us?
  - How does urbanization affect us?
  - .backgrnote[Why do people obey power?]
  - .backgrnote[How does a state gain legitimacy over the use of physical force?]
]]

---
# Goal of empirical sociology

.font130[.center[Use data to discover patterns, &lt;br&gt; and the .alert[social mechanisms that bring them about.]]]

&lt;img src="https://researchleap.com/wp-content/uploads/2021/12/Population-data.jpeg" width="70%" style="display: block; margin: auto;" /&gt;

---
class: inverse middle center
# The three learning goals &lt;br&gt; of this course

---
# Three learning goals

.push-left[
**(1) Multiple OLS regression**
  + Multiple predictors &amp; confounder adjustment (Frisch-Waugh),
  + Interaction effects,
  + Polynomials.



**(2) Visualization of regression results**
  + Model predictions,
  + Coefficient plots.

&lt;img src="https://www.journals.uchicago.edu/cms/10.1086/686942/asset/images/medium/fg3.gif" width="65%" style="display: block; margin: auto;" /&gt;
.backgrnote[.center[*Source:* Legewie and Schaeffer (2016)]]

]

--

.push-right[
**(3) Fundamentals of causal inference**
  + Potential outcomes &amp; directed acyclical graphs (DAG),
  + Randomized Controlled Trials (RCT),
  + Intention to treat (ITT) &amp; instrument variable (IV) regression,
  + Multiple regression,
  + 2-SLS instrument variable regression,
  + Regression discontinuity designs (RDD).

&lt;img src="1-Introduction_files/figure-html/DAG1-1.png" width="45%" style="display: block; margin: auto;" /&gt;
]

---
layout: false
class: clear
# Example: Regression discontinuity design

.push-left[
&lt;img src="https://pbs.twimg.com/media/FOH1FlhWUAIqbN1.jpg:large" width="62%" style="display: block; margin: auto;" /&gt;
]

.push-right[
&lt;img src="https://pbs.twimg.com/media/FZIn0ymXgAAOopA.jpg:large" width="100%" style="display: block; margin: auto;" /&gt;
]

---
class: clear
# Example: Regression discontinuity design

.push-left[
&lt;img src="https://pbs.twimg.com/media/FOH1FlhWUAIqbN1.jpg:large" width="62%" style="display: block; margin: auto;" /&gt;
]


.push-right[
.center[Municipalities where far-right candidates &lt;br&gt; *ran*
versus where they *won*]
&lt;img src="./img/Map_Italy.png" width="100%" style="display: block; margin: auto;" /&gt;
.backgrnote[.center[*Source:* Romarri (2020)]]
]

---
class: clear
# Example: Regression discontinuity design


&lt;img src="./img/Romarri.png" width="50%" style="display: block; margin: auto;" /&gt;
.backgrnote[.center[*Source:* Romarri (2020)]]

---
class: clear
# Example: Regression discontinuity design

.left-column[
&lt;img src="./img/Krzysz.png" width="100%" style="display: block; margin: auto;" /&gt;
]

.right-column[
&lt;img src="./img/Figure2a-1.png" width="100%" style="display: block; margin: auto;" /&gt;
.backgrnote[.center[*Source:* Schaeffer, Romarri, Rosenberg et al. (2025)]]
]

---
class: inverse middle center
# Break

&lt;iframe src='https://www.online-timer.net/' width='400' height='385' frameborder='0' scrolling='yes'&gt;&lt;/iframe&gt;

---
# Course structure

.right-column[
&lt;img src="./img/Structure.png" width="100%" style="display: block; margin: auto;" /&gt;
]

--

.left-column[
.center[**Recommendations**]
- Activate email notifications on Absalon.

- Regularly check your KU email or forward it to your personal email.

- Ask and answer questions in the [t-R-ouble forum](https://absalon.ku.dk/courses/70545/discussion_topics/563046?module_item_id=2037268) on Absalon.
]

---
# Weekly Absalon Online Quizzes

.left-column[
- 13 Online Quizzes on Absalon designed by [Epinion](https://epinionglobal.com/) &amp; us.

- Based on data Epinion collects for municipality of Copenhagen, DR, Skat, etc.

- .alert[Submit at least 10 completed quizzes] to qualify for the exam!

- .alert[Submit individually and within two weeks] after they are made available online (i.e., Wednesdays after the lecture).
]

.right-column[
&lt;img src="./img/Quizz1.png" width="80%" style="display: block; margin: auto;" /&gt;&lt;img src="./img/Quizz2.png" width="80%" style="display: block; margin: auto;" /&gt;&lt;img src="./img/Quizz3.png" width="80%" style="display: block; margin: auto;" /&gt;
]

---
class: inverse
# Consequently, this course assumes

1. You have basic R coding skills and know how to use RStudio.

--

2. You know basic statistics:
  + Descriptive statistics: `\(\%\)`, `\(\bar{x}\)`, `\(\text{SD}(x)\)`.
  + Associations: 
      + Correlation: `\(r_{y,x}\)`,
      + OLS regression: `\(y_{i} = \alpha + \beta x_{i} + \epsilon_{i}\)`.
  + Inference: Confidence intervals, `\(t\)`-values &amp; `\(p\)`-values.

---
layout: false
# Two textbooks

`\(\rightarrow\)` Accessible at Academic Books and are available at the university library.

.push-left[
.center[Carried over from last semester, serves as a reference for regression and statistical inference.]

&lt;img src="https://imgcdn.saxo.com/_9781292362328" width="40%" style="display: block; margin: auto;" /&gt;
.backgrnote[.center[Veaux, Velleman, and Bock (2021)]]
]

.push-right[
.center[To learn how to identify causal effects, we will use Angrist and Pischke's textbook]

&lt;img src="https://imgcdn.saxo.com/_9780691152844" width="35%" style="display: block; margin: auto;" /&gt;
.backgrnote[.center[Angrist and Pischke (2014)]]
]

---
class: inverse middle center
# Questions

&lt;img src="https://www.mountpolley.com/wp-content/uploads/2020/08/pexels-pixabay-356079-1200x726.jpg" width="50%" style="display: block; margin: auto;" /&gt;

---
# Task 1

1. Get a [recent version of R (&gt;= 4.5.0)](https://mirrors.dotsrc.org/cran/).

2. [Install RStudio](https://posit.co/download/rstudio-desktop/), or update to the most recent version.

---
# Task 2 .font70[Open RStudio and follow these instructions]

&lt;img src="https://d33wubrfki0l68.cloudfront.net/8a64bb047429d7ae0e2acae35c40e421e6439bf6/80e5d/diagrams/rstudio-editor.png" width="55%" style="display: block; margin: auto;" /&gt;

---
# Task 3 .font70[Set R Studio preferences]

.left-column[
Set these preferences to improve *reproducibility*!&lt;br&gt;
  `\(\rightarrow\)` RStudio/Tools/Global options.
]

.right-column[
&lt;img src="https://d33wubrfki0l68.cloudfront.net/7fa44a5471d40025344176ede4169c5ad3159482/1577f/screenshots/rstudio-workspace.png" width="70%" style="display: block; margin: auto;" /&gt;
]

---
# R Studio workflow

.left-column[
1. Use **Projects** to manage all files (scripts, data, figures and tables) belonging to the same project.

2. Always start your RStudio session by clicking on the **Project** for this course.

2. Use the editor the write as many **R scripts** as you like, save them in the same folder as your **Project**. Thereby you can reproduce your results.
]

.right-column[
&lt;img src="https://d33wubrfki0l68.cloudfront.net/8a64bb047429d7ae0e2acae35c40e421e6439bf6/80e5d/diagrams/rstudio-editor.png" width="85%" style="display: block; margin: auto;" /&gt;
]

---
# Set up your "Stats_II" project

.left-column[
- Click on the Project button.
]

.right-column[
&lt;img src="./img/RProject1.png" width="40%" style="display: block; margin: auto;" /&gt;
]

---
layout: true
# Set up your "Stats_II" project
.left-column[
Set up a new project in R Studio. 
  1. "New Directory"
  2. "New Project"
  3. Finally, a name for the folder and under "Browse" where you want that folder to be located. I call mine Stats_II. 
    + This will also generate a folder with the name you chose. Use that folder for everything related to this course.

**Done!** Now you should find an empty folder under the path your wanted it to be set up.

.alert[In the future, always start RStudio by double clicking on the project icon in your folder for this course.]
]

---

.right-column[
&lt;img src="./img/RProject2.png" width="90%" style="display: block; margin: auto;" /&gt;
]

---

.right-column[
&lt;img src="./img/RProject3.png" width="90%" style="display: block; margin: auto;" /&gt;
]

---

.right-column[
&lt;img src="./img/RProject4.png" width="90%" style="display: block; margin: auto;" /&gt;
]

---

.right-column[
&lt;img src="./img/RProject5.png" width="90%" style="display: block; margin: auto;" /&gt;
]


---
layout: false
layout: true
# R Scripts
---

.left-column[
1. Open a new R Script.
2. Save it in your new folder.
  + Find it under "Files".
]

.right-column[
&lt;img src="./img/Rscript1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

.left-column[
1. Type the lines shon in the screenshot on the right.
2. Save the file by clicking on the flopy disc icon;
  - I called mine "Lecture.R".
3. Mark all code and click "run".
]

.right-column[
&lt;img src="./img/Rscript3.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

.left-column[
OK, you are good to go! 

**Pro tip:** *Use the R Script to take notes during the lecture!*

A `#` defines a comment. So use it to take notes and code in one single document per lecture.
]

.right-column[
&lt;img src="./img/Rscript4.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---
layout: false
class: clear
# AI (like ChatGPT)

.push-left[
1. **Privacy**: .alert[Don't use AI/LLMs to process sensitive information!]

2. **Learning**: 
  + Use AI to *explain, comment, debug, and improve* R code while you draft it. 
  + Use AI to get *summaries* of text passages and concepts that you do not understand. This will help you to read complex texts and better understand difficult topics. 
  + Use AI to *discuss* your understanding of the course materials and ask things that confuse you.

3. **Generation**: Don't use AI to *generate, draft, and write* your R code. .alert[You need to learn how to code to assess whether ChatGPT coded what you asked for.]
]

.push-right[
&lt;img src="https://media1.giphy.com/media/iiSb58oATiANL65Dd2/giphy.gif?cid=ecf05e470i00dk1kq5bvalzh4irqygm4pieeqkdyz9vk76ht&amp;ep=v1_gifs_search&amp;rid=giphy.gif&amp;ct=g" width="100%" style="display: block; margin: auto;" /&gt;
]

---
# References

.push-left[
.font70[
Angrist, J. D. and J. Pischke (2014). _Mastering 'Metrics: The Path from Cause to Effect_. Princeton
University Press.

Legewie, J. and M. Schaeffer (2016). "Contested Boundaries: Explaining Where Ethnoracial Diversity
Provokes Neighborhood Conflict". In: _American Journal of Sociology_, pp. 125-161.

Romarri, A. (2020). _Do Far-Right Mayors Increase the Probability of Hate Crimes? Evidence From
Italy_. SSRN Scholarly Paper ID 3506811. Rochester, NY: Social Science Research Network.

Schaeffer, M. and S. Andersen (2025). "Unveiling the Price of Green". In: _Unpublished manuscript_.

Schaeffer, M., A. Romarri, D. Rosenberg, et al. (2025). "When Politics Enters the Waiting Room:
Far-Right Electoral Victories Exacerbate Discrimination in Access to Healthcare". In: _Unpublished
manuscript_.
]]

.push-right[
.font70[
Veaux, D., Velleman, and Bock (2021). _Stats: Data and Models, Global Edition_. Pearson Higher Ed.

Wiedner, J., M. Schaeffer, S. Carol, et al. (2025). "Local Communities, Distant Origins: How Cultural
Distance and Local Context Shape Immigrant Ethno-Religious Infrastructures". In: _American Journal of
Sociology_.
]]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="../template/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
  "highlightLanguage": "r",
  "highlightStyle": "zenburn",
  "highlightLines": true,
  "countIncrementalSlides": false,
  "ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
