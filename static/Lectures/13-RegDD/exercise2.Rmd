---
title: "Exercise 2 (10 minutes)"
subtitle: "When you're done, assist some of the others ..."
output: webexercises::webexercises_default
---

```{r setup, include = FALSE}
options(
  htmltools.dir.version = FALSE,
  servr.interval = 0.5,
  width = 115,
  digits = 3
  )
knitr::opts_chunk$set(
  collapse = TRUE, message = FALSE, 
  warning = FALSE, cache = FALSE,
  comment = "#", strip.white = TRUE)

library(webexercises)
library(essentials)

pacman::p_load(
  tidyverse, # Data manipulation,
  ggplot2, # beautiful figures,
  modelsummary, # regression tables
  causaldata, # contains the data
  estimatr) # OLS regression

# Import data used in Manacorda, M., Miguel, E., & Vigorito, A. (2011). Government Transfers and Political Support. American Economic Journal: Applied Economics, 3(3), 1â€“28.
data("gov_transfers", package = "causaldata")
```

We're going to continue with our look at Manacorda, M., Miguel, E., & Vigorito, A. (2011). Government Transfers and Political Support. But this time, we're going to use `rdrobust()`

1. Estimate a a local linear RDD with optimized bandwdth and triangular kernel weights. What is the local effect of the welfare program? `r fitb(0.025, width = "5")` Is it statistically significant? `r mcq(c(answer = "No"))`.

`r hide("R solution -> dont' peak to early ;) !")`
```{r ref.label="nonlinear_rdds"}
RDD <- rdrobust(gov_transfers$Support, gov_transfers$Income_Centered, c = 0)
summary(RDD)
```
`r unhide()`

2. `rdrobust()` has an argument `h` with which you can set the bandwidth by hand. The bandwidth optimized by `rdrobust()` was 0.005. Increase it step by step. At what bandwidth do we can a result that is similar to the one we obtained originally?
`r hide("R solution -> dont' peak to early ;) !")`
```{r ref.label="nonlinear_rdds"}
RDD <- rdrobust(gov_transfers$Support, gov_transfers$Income_Centered, c = 0, h = 0.02)
summary(RDD)
```
`r unhide()`